{"version":3,"sources":["helpers/affine.js","components/affine/forms/FormKey.js","components/affine/forms/FormServices.js","components/affine/index.js","helpers/vigenere.js","components/vigenere/forms/FormKey.js","components/vigenere/forms/FormServices.js","components/vigenere/index.js","App.js","index.js"],"names":["url","getKey","a","ring","fetchUrl","fetch","response","json","res","verify","b","resp","fetchFile","file","modo","body","FormData","append","fn","name","split","method","blob","fileRes","console","log","FileSaver","saveAs","FormKey","setKey","useState","setState","affAuto","setAffAuto","attra","attrb","setAttr","useEffect","handleChange","e","preventDefault","target","value","handleVerify","handleGetKey","ok","key","window","alert","className","htmlFor","type","id","onChange","checked","onClick","FormServices","setFile","handleFetchService","handleClick","files","Affine","op","vigAuto","setVigAuto","attr","Vigenere","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.abeffbe0.chunk.js","sourcesContent":["import FileSaver from 'file-saver';\n\n/*const url = 'https://server-cryptography.herokuapp.com/';*/\nconst url = 'http://localhost:4000';\n\nexport const getKey = async ( ring = 128 ) => {\n\tconst fetchUrl = `${url}/affine/key?ring=${ring}`;\n\tlet response = await fetch( fetchUrl );\n\tlet res = await response.json();\n\treturn res;\n} \n\nexport const verify = async ( a = 0, b = 0, ring = 128 ) =>{\n\n\tconst fetchUrl = `${url}/affine/verify?a=${a}&b=${b}&ring=${ring}`;\n\n\tlet response = await fetch( fetchUrl );\n\tlet { resp } = await response.json();\n\treturn resp;\n}\n\nexport const fetchFile = async ( a, b, ring, file, modo = 'encrypt' ) => {\n\tconst fetchUrl = `${url}/affine/file/${modo}`;\n\tconst body = new FormData();\n\t\n\tbody.append( 'a', a );\n\tbody.append( 'b', b );\n\tbody.append( 'ring', ring );\n\tbody.append( 'file', file );\n\n\tlet fn =  modo === 'encrypt' ? file.name.split('.')[0]+'.aff'+'.txt' : file.name.split('.')[0]+'.txt';\n\tlet response = await fetch( fetchUrl, { method: 'POST', body } );\n\tlet fileRes = await response.blob();\n\tconsole.log(fileRes);\n\tFileSaver.saveAs( fileRes, fn );\n}\n","import React,{ useState, useEffect } from 'react';\n\nimport { verify, getKey } from './../../../helpers/affine';\n\nconst FormKey = ({setKey}) =>{\n\n\tlet [[ a, b, ring ], setState] = useState(['0', '0', '256']);\n\tlet [ affAuto, setAffAuto ] = useState( false );\n\tlet [[ attra, attrb ], setAttr ] = useState(['','']);\n\n\tuseEffect(()=>{\n\t\tsetKey([a, b, ring]);\n\t}, [a,b,ring, setKey]);\n\n\tconst handleChange = (e) =>{\n\t\te.preventDefault();\n\t\tlet name = e.target.name;\n\t\tlet value = e.target.value;\n\t\tif( name === 'a' ){\n\t\t\tsetState([ value, b, ring ]);\n\t\t}else if( name === 'b' ){\n\t\t\tsetState([ a, value, ring ]);\n\t\t}else if( name === 'ring' ){\n\t\t\tsetState([ a, b, value ]);\n\t\t}\n\t}\n\t\n\tconst handleVerify = async (e) => {\n\t\te.preventDefault();\n\t\tlet resp = await verify( a, b, ring );\n\t\tif( resp === 3 ){\n\t\t\t setAttr(['is-valid','is-valid']);\n\t\t}else if( resp === 2){\n\t\t\t setAttr(['is-valid','is-invalid']);\n\t\t}else if( resp === 1){\n\t\t\t setAttr(['is-invalid','is-valid']);\n\t\t}else{\n\t\t\t setAttr(['is-invalid','is-invalid']);\n\t\t}\n\t}\n\t\n\tconst handleGetKey = async (e) =>{\n\t\te.preventDefault();\n\t\tif( !affAuto ){\n\t\t\tlet {ok, key} = await getKey( ring );\n\t\t\tif( ok ){\n\t\t\t\tsetKey(key);\n\t\t\t\tsetState(key);\n\t\t\t\tsetAffAuto(true);\n\t\t\t}else{\n\t\t\t\twindow.alert('No se pudo generar una llave');\n\t\t\t}\n\t\t}else{\n\t\t\tsetAffAuto( false );\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<form>\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col-sm-1\">\n\t\t\t\t\t<label className=\"my-1 mr-1\" htmlFor=\"a\">A</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tid=\"a\" \n\t\t\t\t\t\tname=\"a\"\n\t\t\t\t\t\tvalue={ a } \n\t\t\t\t\t\tonChange={ handleChange } \n\t\t\t\t\t\tclassName={ `form-control ${attra}` } \n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col-sm-1\">\n\t\t\t\t\t<label className=\"my-1 mr-2\" htmlFor=\"b\">B</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"number\" \n\t\t\t\t\t\tid=\"b\" \n\t\t\t\t\t\tname=\"b\"\n\t\t\t\t\t\tvalue={b}\n\t\t\t\t\t\tonChange={handleChange} \n\t\t\t\t\t\tclassName={`form-control ${attrb}`}  \n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col-1\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"affAuto\"\n\t\t\t\t\t\tname=\"affAuto\"\n\t\t\t\t\t\tonChange={ handleGetKey }\n\t\t\t\t\t\tchecked={ affAuto }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<label className=\"ml-1\" htmlFor=\"affAuto\">Generar automaticamente</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<label className=\"ml-1\" htmlFor=\"ring\">Anillo</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<select className=\"custom-select\" id=\"ring\" name=\"ring\" value={ring} onChange={handleChange}>\n\t\t\t\t\t\t<option value=\"256\">256</option>\n\t\t\t\t\t\t<option value=\"128\">128</option>\n\t\t\t\t\t\t<option value=\"97\">97</option>\n\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t<option value=\"239\">239</option>\n\t\t\t\t\t\t<option value=\"15345\">12345</option>\n\t\t\t\t\t\t<option value=\"99991\">99991</option>\n\t\t\t\t\t\t<option value=\"104729\">104729</option>\n\t\t\t\t\t\t\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\n\t\t\t\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<button \n\t\t\t\t\t\ttype=\"button\" \n\t\t\t\t\t\tclassName=\"btn \n\t\t\t\t\t\tbtn-primary btn-block\" \n\t\t\t\t\t\tonClick={handleVerify} \n\t\t\t\t\t>Validar llave</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\nexport default FormKey;\n","import React from 'react';\n\nconst FormServices = ( { setFile, handleFetchService } ) =>{\n\t\n\tconst handleChange = ( e ) =>{\n\t\te.preventDefault();\n\t\tif( e.target.name === 'file' ){\n\t\t\tsetFile( e.target.files[0] );\n\t\t}\n\t}\n\t\n\tconst handleClick = ( e ) => {\n\t\te.preventDefault();\n\t\tif( e.target.name === 'encFile' ){\n\t\t\thandleFetchService( 'encrypt' );\t\n\t\t}else if( e.target.name === 'decFile' ){\n\t\t\thandleFetchService( 'decrypt' );\t\n\t\t}\n\t}\n\n\treturn (\n\t\t<form>\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<input  className=\"pt-2\" type=\"file\" name=\"file\" onChange={handleChange}/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<button className=\"btn btn-primary btn-block\" name=\"encFile\" onClick={handleClick} >Cifrar archivo</button>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<button className=\"btn btn-danger btn-block\" name=\"decFile\" onClick={handleClick}>Descifrar archivo</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t</form>\n\t);\n}\n\nexport default FormServices;\n","import React, {useState} from 'react';\nimport FormKey from './forms/FormKey';\nimport FormServices from './forms/FormServices';\n\nimport { fetchFile, verify  } from './../../helpers/affine';\n\nconst Affine = () =>{\n\n\tconst [ [a, b, ring], setKey ] = useState(['', '', '']);\n\tconst [ file, setFile ] = useState({});\n\t\n\tconst handleFetchService = async ( modo ) =>{\n\t\tif( await verify( a, b, ring ) !== 3){\n\t\t\twindow.alert('La llave es incorrecta, intenta con otro valor');\n\t\t\treturn ;\n\t\t}\n\t\t\n\t\tif( typeof file.name === 'string' ){\n\t\t\tfetchFile( a, b, ring, file, modo );\n\t\t}else{\n\t\t\twindow.alert(`Primero debes seleccionar un archivo para ${modo}`);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<div className=\"col-3 mt-2 mb-2\">\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<h5 className=\"card-header text-center bg-dark text-white\">Modificar llave</h5>\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t<FormKey setKey={setKey} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"col-9 mt-2 mb-2\">\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<h5 className=\"card-header bg-dark text-white text-center\">Affine</h5>\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t<FormServices setFile={setFile} handleFetchService={handleFetchService} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Affine;\n","import FileSaver from 'file-saver';\n\n//const url = 'https://server-cryptography.herokuapp.com';\nconst url = 'http://localhost:4000';\n\nexport const getKey = async () =>{\n\tconst fetchUrl = `${url}/vigenere/key`;\n\n\tlet response = await fetch( fetchUrl );\n\tlet res = await response.json();\n\t\n\treturn res.key;\n}\n\nexport const verify = async ( key = '') =>{\n\tconst fetchUrl = `${url}/vigenere/verify?key=${key}`;\n\tlet response = await fetch( fetchUrl );\n\tlet { ok } = await response.json();\n\n\tif( ok )\n\t\treturn true;\n\t\t\n\treturn false;\n}\n\nexport const fetchFile = async ( key, file, op = 'encrypt' ) => {\n\tconst fetchUrl = `${url}/vigenere/file/${op}`;\n\n\tconst body = new FormData();\n\tbody.append('key', key);\n\tbody.append('file', file);\n\t\n\tlet fn = op === 'encrypt' ? file.name.split('.')[0] + '.vig'+'.txt' : file.name.split('.')[0]+'.txt';\n\tlet response = await fetch( fetchUrl, { method:'POST', body });\n\tlet fileRes = await response.blob();\n\tFileSaver.saveAs( fileRes, fn );\n}\n\n\n","import React, {useState} from 'react';\n\nimport { verify, getKey } from './../../../helpers/vigenere';\n\nconst FormKey = ( { setKey } ) => {\n\n\tconst [ key, setState ] = useState( '' );\n\tconst [ vigAuto, setVigAuto ] = useState( false );  \n\tconst [ attr, setAttr ] = useState('');\n\n\tconst handleChange = (e) =>{\n\t\te.preventDefault();\n\t\tlet name = e.target.name;\n\t\tlet value = e.target.value;\n\t\t\n\t\tif ( name === 'key' ){\n\t\t\tsetKey( value );\n\t\t\tsetState( value );\n\t\t}\n\t}\n\n\tconst handleVerify= async (e) => {\n\t\te.preventDefault();\n\t\tlet  ok = await verify( key );\n\t\tif( ok ){\n\t\t\tsetAttr('is-valid');\n\t\t}else{\n\t\t\tsetAttr('is-invalid');\n\t\t}\n\t}\n\t\n\tconst handleGetKey = async ( e ) =>{\n\t\te.preventDefault();\n\t\tif( !vigAuto ){\n\t\t\tlet key = await getKey();\n\t\t\tsetKey( key );\n\t\t\tsetState( key );\n\t\t\tsetVigAuto( true );\n\t\t}else{\n\t\t\tsetVigAuto( false );\n\t\t}\n\t}\n\n\treturn (\n\t\t<form>\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t<label className=\"my-1\" htmlFor=\"key\">Key</label> \n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid=\"key\"\n\t\t\t\t\t\tname=\"key\" \n\t\t\t\t\t\tvalue={key} \n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tclassName={`form-control ${attr}`}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col-1\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"vigAuto\"\n\t\t\t\t\t\tname=\"vigAuto\"\n\t\t\t\t\t\tonChange={ handleGetKey }\n\t\t\t\t\t\tchecked={vigAuto}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t<label \n\t\t\t\t\t\t\thtmlFor=\"vigAuto\" \n\t\t\t\t\t\t\tclassName=\"ml-1 pb-1\"\n\t\t\t\t\t\t>Generar automaticamente</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tonClick={handleVerify}\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-block\" \n\t\t\t\t\t\t>Verificar</button>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n\nexport default FormKey;\n","import React from 'react';\n\nconst FormServices = ( { setFile, handleFetchService } ) =>{\n\t\n\tconst handleChange = ( e ) =>{\n\t\te.preventDefault();\n\t\tif( e.target.name === 'file' ){\n\t\t\tsetFile( e.target.files[0] );\n\t\t}\n\t}\n\t\n\tconst handleClick = ( e ) => {\n\t\te.preventDefault();\n\t\tif( e.target.name === 'encFile' ){\n\t\t\thandleFetchService(  'encrypt' );\t\n\t\t}else if( e.target.name === 'decFile' ){\n\t\t\thandleFetchService(  'decrypt' );\t\n\t\t}\t\n\t}\n\t\n\treturn (\n\t\t<form>\n\t\t\t<div className=\"form-row mb-3\">\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<input  className=\"pt-2\" type=\"file\" name=\"file\" onChange={handleChange}/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<button className=\"btn btn-primary btn-block\" name=\"encFile\" onClick={handleClick} >Cifrar archivo</button>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<button className=\"btn btn-danger btn-block\" name=\"decFile\" onClick={handleClick}>Descifrar archivo</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\n\nexport default FormServices;\n\n\n","import React, {useState} from 'react';\nimport FormKey from './forms/FormKey';\nimport FormServices from './forms/FormServices';\n\nimport { fetchFile, verify } from './../../helpers/vigenere';\n\nconst Vigenere = () => {\n\n\tconst [key, setKey] = useState('');\n\tconst [file, setFile] = useState({});\n\n\tconst handleFetchService = async ( op ) =>{\n\t\tif( ! await verify(key) ){\n\t\t\twindow.alert('La llave que es no es valida, prueba con otros valores');\n\t\t\treturn;\n\t\t}\n\n\t\tif( typeof file.name === 'string' ){\n\t\t\tfetchFile( key, file, op );\n\t\t}else{\n\t\t\twindow.alert('Primero debes seleccionar un archivo');\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<div className=\"col-3 mt-2 mb-2\">\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<h5 className=\"card-header bg-dark text-white text-center\">Llave</h5>\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t<FormKey setKey={setKey}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"col mt-2 mb-2\">\n\t\t\t\t<div className=\"card\">\n\t\t\t\t\t<h5 className=\"card-header bg-dark text-white text-center\">Vigenere</h5>\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t<FormServices setFile={setFile} handleFetchService={handleFetchService} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Vigenere;\n","import React from 'react';\nimport Affine from './components/affine/';\nimport Vigenere from './components/vigenere/';\n\nconst App = () => {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row mb-3 mt-2\" id=\"header\">\n\t\t\t\t\t<h2 className=\"text-center\">HW_01</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\" id=\"affine\">\n\t\t\t\t\t<Affine />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\" id=\"vigenere\">\n\t\t\t\t\t<Vigenere />\n\t\t\t\t</div>\n    \t</div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}